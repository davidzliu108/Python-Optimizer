<!DOCTYPE HTML>
<html lang = "en">
  <head>
    <title>pythonOptimizer.html</title>
    <meta charset = "UTF-8" />

    <style>
    form li {
      list-style: none outside none;
      }
      input {
        margin-left: 10px;
      }
    </style>


  </head>
  <body>

    <h1>Python Optimizer</h1>
    

      <div style= "float:left;">
          <span>Input</span>
            <form name =form1 method= post action="/action_page.php">
              <ul>
              <li><textarea id="oldcode" rows="10" cols="60"></textarea></li>
                <br>
              </div>
            </ul>
              </form>
              

        <div style="float:left;">
          <span>Output</span>
          <form name=form2 method= post action="/action_page.php">
            <ul>
            <li><textarea id="newcode" rows="10" cols="60"></textarea></li> 
            <br>
          </div>
        </ul>
          </form>
    
        <div style="clear:both;">&nbsp;
        <input id ="copy" type="button" value="Transform">
        <p id= "demo"></p>
      </div>


      <div style="clear:both;">&nbsp;
    <input type="button" value="Test">
      </div>


      <script src="http://code.jquery.com/jquery-1.10.1.js"></script>
      <script type="text/javascript">

      function transform(str) {
        lines = str.split('\n')
        insert_point = -1
        for (var i=0; i<lines.length; i++) {
          line = lines[i]
          if (line.startsWith('import')) continue
          if (line == "") continue
          insert_point = i
          break
        }
        lines.splice(insert_point, 0, 'import optimizer')
        return lines.join('\n')
      }

      $(document).ready(function() {
        $('#copy').click(function() {
            $('#newcode').val(transform($('#oldcode').val()))
        });
      });
      
      </script>


  </body>
</html> 

